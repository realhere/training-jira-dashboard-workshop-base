# Test Cases: AC-001-01 至 AC-001-04 Sprint 燃盡圖視覺化

> **檔案編號**: TC-001-sprint-burndown-visualization  
> **建立日期**: 2025-08-18  
> **最後更新**: 2025-08-18  
> **狀態**: 規劃中  
> **對應 User Story**: [US-001](./spec01-us01-sprintprogress.md#us-001-sprint-燃盡圖視覺化)  
> **對應 AC**: [AC-001-01 至 AC-001-04](./spec01-us01-ac.md)

## 📋 測試範圍

本文件涵蓋以下 Acceptance Criteria 的測試案例：
- **AC-001-01**: 正常顯示燃盡圖與完成率
- **AC-001-02**: 進度健康度色彩指示 - 正常狀態
- **AC-001-03**: 進度健康度色彩指示 - 警示狀態
- **AC-001-04**: 進度健康度色彩指示 - 危險狀態

---

## 🧪 測試案例集合

### TC-001-01: 正常顯示燃盡圖與完成率

| 欄位 | 內容 |
|------|------|
| **測試案例編號** | TC-001-01 |
| **測試目標** | 驗證 Sprint 燃盡圖與完成率資訊的正常顯示功能 |
| **相關 User Story** | US-001: 作為 Scrum Master，我希望能在儀表板上看到即時更新的 Sprint 燃盡圖... |
| **相關 AC 場景** | AC-001-01: 正常顯示燃盡圖與完成率 |
| **測試前置條件** | 1. Sprint 2 已在 Google Sheets 中建立並設定<br>2. Sprint 總故事點數設為 20 SP<br>3. 已完成 13 SP，剩餘 7 SP<br>4. 當前為 Sprint 第 7 天，共 10 天<br>5. 使用者已登入系統並有儀表板存取權限 |
| **測試步驟** | 1. 開啟瀏覽器，導向儀表板頁面<br>2. 等待頁面完全載入<br>3. 定位到 Sprint 燃盡圖區域<br>4. 檢查完成率顯示區域<br>5. 檢查進度詳情區域<br>6. 檢查燃盡圖圖表元素 |
| **預期結果** | 1. 頁面成功載入，顯示 Sprint 燃盡圖區域<br>2. 完成率顯示 "65% 完成"<br>3. 進度詳情顯示 "已完成: 13 SP \| 剩餘: 7 SP \| 總計: 20 SP"<br>4. 燃盡圖顯示理想燃盡線（從 20 SP 線性遞減至 0）<br>5. 燃盡圖顯示實際燃盡線（反映 13 SP 完成狀況）<br>6. 進度條視覺化顯示 65% 進度 |
| **測試資料** | Sprint: Sprint 2<br>總 SP: 20<br>已完成 SP: 13<br>Sprint 天數: 10<br>當前天數: 7 |
| **測試類型** | 功能測試（正常流程） |
| **自動化程度** | 全自動（適合 E2E 測試，如 Playwright, Cypress） |

---

### TC-001-02: 進度正常狀態的視覺表現

| 欄位 | 內容 |
|------|------|
| **測試案例編號** | TC-001-02 |
| **測試目標** | 驗證當 Sprint 進度正常或超前時的綠色視覺指示 |
| **相關 User Story** | US-001: 作為 Scrum Master，我希望能在儀表板上看到即時更新的 Sprint 燃盡圖... |
| **相關 AC 場景** | AC-001-02: 進度健康度色彩指示 - 正常狀態 |
| **測試前置條件** | 1. Sprint 正在進行中<br>2. 實際進度等於或超前理想進度<br>3. 當前完成率為 70%，時間進度為 60%<br>4. Google Sheets 資料已更新<br>5. 使用者已登入系統 |
| **測試步驟** | 1. 開啟儀表板頁面<br>2. 等待資料載入完成<br>3. 檢查進度條顏色<br>4. 檢查完成率數字顏色<br>5. 檢查燃盡圖實際線顏色<br>6. 確認沒有警告圖示顯示<br>7. 檢查整體視覺狀態一致性 |
| **預期結果** | 1. 進度條顯示綠色<br>2. 完成率數字 "70%" 顯示為綠色<br>3. 燃盡圖實際線顯示為綠色<br>4. 頁面上不顯示任何警告圖示（⚠️、🚨）<br>5. 所有進度相關元素呈現正常/健康的視覺狀態 |
| **測試資料** | 完成率: 70%<br>時間進度: 60%<br>進度狀態: 超前<br>預期顏色: 綠色 |
| **測試類型** | 功能測試（視覺驗證） |
| **自動化程度** | 半自動（需要顏色驗證，可用 CSS 屬性檢查） |

---

### TC-001-03: 進度警示狀態的視覺表現

| 欄位 | 內容 |
|------|------|
| **測試案例編號** | TC-001-03 |
| **測試目標** | 驗證當 Sprint 進度稍微落後時的黃色警示視覺效果 |
| **相關 User Story** | US-001: 作為 Scrum Master，我希望能在儀表板上看到即時更新的 Sprint 燃盡圖... |
| **相關 AC 場景** | AC-001-03: 進度健康度色彩指示 - 警示狀態 |
| **測試前置條件** | 1. Sprint 正在進行中<br>2. 實際進度落後理想進度 10-20%<br>3. 當前完成率為 50%，時間進度為 70%<br>4. Google Sheets 資料已設定為警示狀態<br>5. 使用者已登入系統 |
| **測試步驟** | 1. 開啟儀表板頁面<br>2. 等待資料載入完成<br>3. 檢查進度條顏色變為黃色<br>4. 檢查完成率數字顏色<br>5. 檢查燃盡圖實際線顏色<br>6. 確認輕微警告圖示（⚠️）顯示<br>7. 驗證警示觸發的準確性 |
| **預期結果** | 1. 進度條顯示黃色<br>2. 完成率數字 "50%" 顯示為黃色<br>3. 燃盡圖實際線顯示為黃色<br>4. 頁面顯示輕微警告圖示（⚠️）<br>5. 整體視覺呈現警示但非緊急的狀態<br>6. 警示觸發邏輯正確（落後 10-20%） |
| **測試資料** | 完成率: 50%<br>時間進度: 70%<br>進度落後: 15%（在 10-20% 範圍內）<br>預期顏色: 黃色<br>預期圖示: ⚠️ |
| **測試類型** | 功能測試（邊界條件驗證） |
| **自動化程度** | 半自動（需要顏色和圖示驗證） |

---

### TC-001-04: 進度危險狀態的視覺表現

| 欄位 | 內容 |
|------|------|
| **測試案例編號** | TC-001-04 |
| **測試目標** | 驗證當 Sprint 進度嚴重落後時的紅色危險警示效果 |
| **相關 User Story** | US-001: 作為 Scrum Master，我希望能在儀表板上看到即時更新的 Sprint 燃盡圖... |
| **相關 AC 場景** | AC-001-04: 進度健康度色彩指示 - 危險狀態 |
| **測試前置條件** | 1. Sprint 正在進行中<br>2. 實際進度落後理想進度 20% 以上<br>3. 當前完成率為 30%，時間進度為 80%<br>4. Google Sheets 資料已設定為危險狀態<br>5. 使用者已登入系統 |
| **測試步驟** | 1. 開啟儀表板頁面<br>2. 等待資料載入完成<br>3. 檢查進度條顏色變為紅色<br>4. 檢查完成率數字顏色<br>5. 檢查燃盡圖實際線顏色<br>6. 確認嚴重警告圖示（🚨）顯示<br>7. 檢查 "進度落後" 提示訊息<br>8. 驗證危險狀態的視覺衝擊力 |
| **預期結果** | 1. 進度條顯示紅色<br>2. 完成率數字 "30%" 顯示為紅色<br>3. 燃盡圖實際線顯示為紅色<br>4. 頁面顯示嚴重警告圖示（🚨）<br>5. 進度區域顯示醒目的 "進度落後" 提示<br>6. 整體視覺呈現緊急/危險狀態<br>7. 警示觸發邏輯正確（落後 > 20%） |
| **測試資料** | 完成率: 30%<br>時間進度: 80%<br>進度落後: 25%（> 20%）<br>預期顏色: 紅色<br>預期圖示: 🚨<br>提示訊息: "進度落後" |
| **測試類型** | 功能測試（異常狀況處理） |
| **自動化程度** | 半自動（需要顏色、圖示、文字內容驗證） |

---

### TC-001-05: 進度狀態邊界值測試

| 欄位 | 內容 |
|------|------|
| **測試案例編號** | TC-001-05 |
| **測試目標** | 驗證進度狀態切換的邊界值準確性 |
| **相關 User Story** | US-001: 作為 Scrum Master，我希望能在儀表板上看到即時更新的 Sprint 燃盡圖... |
| **相關 AC 場景** | AC-001-02, AC-001-03, AC-001-04（邊界值測試） |
| **測試前置條件** | 1. Sprint 正在進行中<br>2. 能夠動態調整進度資料<br>3. 系統能即時反映資料變化<br>4. 使用者已登入系統 |
| **測試步驟** | 1. 設定進度落後 9%，檢查為綠色狀態<br>2. 調整為落後 10%，檢查變為黃色狀態<br>3. 調整為落後 19%，確認仍為黃色<br>4. 調整為落後 20%，檢查變為紅色狀態<br>5. 調整為落後 21%，確認仍為紅色<br>6. 調整回超前狀態，檢查變回綠色 |
| **預期結果** | 1. 落後 < 10%：綠色，無警告圖示<br>2. 落後 10-19%：黃色，⚠️ 圖示<br>3. 落後 ≥ 20%：紅色，🚨 圖示，"進度落後" 提示<br>4. 狀態切換即時且準確<br>5. 視覺元素一致性變更 |
| **測試資料** | 邊界值: 9%, 10%, 19%, 20%, 21%<br>超前狀態: +5%<br>各狀態對應的視覺預期 |
| **測試類型** | 邊界測試 |
| **自動化程度** | 全自動（適合參數化測試） |

---

## 📊 測試資料設定

### 基礎測試環境設定

| 參數 | 值 | 說明 |
|------|-----|------|
| **Sprint 名稱** | Sprint 2 | 測試用 Sprint |
| **Sprint 總天數** | 10 | 標準 2 週 Sprint |
| **總故事點數** | 20 SP | 便於計算的基準值 |
| **測試瀏覽器** | Chrome 最新版 | 主要測試環境 |
| **測試解析度** | 1920x1080 | 桌面標準解析度 |

### 各測試案例的具體資料

| 測試案例 | 完成 SP | 剩餘 SP | 當前天數 | 完成率 | 時間進度 | 落後程度 | 預期狀態 |
|----------|---------|---------|----------|--------|----------|----------|----------|
| TC-001-01 | 13 | 7 | 7 | 65% | 70% | 正常 | 綠色 |
| TC-001-02 | 14 | 6 | 6 | 70% | 60% | 超前 | 綠色 |
| TC-001-03 | 10 | 10 | 7 | 50% | 70% | 落後 15% | 黃色 |
| TC-001-04 | 6 | 14 | 8 | 30% | 80% | 落後 25% | 紅色 |

---

## 🔧 自動化測試建議

### 適合 E2E 測試的項目

```javascript
// Playwright/Cypress 測試範例
describe('Sprint Burndown Visualization', () => {
  
  test('TC-001-01: 正常顯示燃盡圖與完成率', async ({ page }) => {
    // 設定測試資料
    await setupSprintData({ completed: 13, total: 20, day: 7 });
    
    // 開啟儀表板
    await page.goto('/dashboard');
    
    // 驗證完成率顯示
    await expect(page.locator('[data-testid="completion-rate"]')).toHaveText('65% 完成');
    
    // 驗證進度詳情
    await expect(page.locator('[data-testid="progress-details"]'))
      .toHaveText('已完成: 13 SP | 剩餘: 7 SP | 總計: 20 SP');
    
    // 驗證燃盡圖存在
    await expect(page.locator('[data-testid="burndown-chart"]')).toBeVisible();
  });
  
  test('TC-001-04: 危險狀態視覺警示', async ({ page }) => {
    // 設定危險狀態資料
    await setupSprintData({ completed: 6, total: 20, day: 8 });
    
    await page.goto('/dashboard');
    
    // 驗證紅色警示
    await expect(page.locator('[data-testid="progress-bar"]')).toHaveClass(/danger|red/);
    await expect(page.locator('[data-testid="warning-icon"]')).toHaveText('🚨');
    await expect(page.locator('[data-testid="warning-message"]')).toHaveText('進度落後');
  });
});
```

### 適合 Unit 測試的項目

```javascript
// Jest 測試範例
describe('Progress Status Calculation', () => {
  
  test('should return correct status for different progress scenarios', () => {
    expect(calculateProgressStatus(70, 60)).toBe('normal'); // 超前
    expect(calculateProgressStatus(50, 70)).toBe('warning'); // 落後 15%
    expect(calculateProgressStatus(30, 80)).toBe('danger'); // 落後 25%
  });
  
  test('should handle boundary values correctly', () => {
    expect(calculateProgressStatus(45, 55)).toBe('warning'); // 落後 10%
    expect(calculateProgressStatus(40, 60)).toBe('danger'); // 落後 20%
  });
});
```

---

## 📝 測試執行記錄

| 測試案例 | 執行日期 | 結果 | 執行者 | 備註 |
|----------|----------|------|--------|------|
| TC-001-01 | 待執行 | - | - | - |
| TC-001-02 | 待執行 | - | - | - |
| TC-001-03 | 待執行 | - | - | - |
| TC-001-04 | 待執行 | - | - | - |
| TC-001-05 | 待執行 | - | - | - |

---

## 🔗 相關文件

- **User Story**: [`spec01-us01-sprintprogress.md`](./spec01-us01-sprintprogress.md)
- **Acceptance Criteria**: [`spec01-us01-ac.md`](./spec01-us01-ac.md)
- **Feature Spec**: [`spec01-progress.md`](./spec01-progress.md)

## 📝 變更記錄

| 日期       | 版本 | 變更內容 | 變更人 |
| ---------- | ---- | -------- | ------ |
| 2025-08-18 | 1.0  | 初版建立，涵蓋 AC-001-01 至 AC-001-04 的測試案例 | QA Team |
